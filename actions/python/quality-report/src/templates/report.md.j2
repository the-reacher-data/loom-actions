# Python Quality Report

{% if blocking %}âŒ Blocking issues found.{% else %}âœ… Quality gates passed.{% endif %}

## Summary

| Metric | Value |
|---|---:|
| âœ… Passed tests | **{{ summary.tests_passed }}** |
| âŒ Failed tests | **{{ summary.tests_failed }}** |
| â­ Skipped tests | **{{ summary.tests_skipped }}** |
| ğŸ§ª Total tests | **{{ summary.tests_total }}** |
| ğŸ“ˆ Coverage | **{{ summary.coverage }}%** |
| ğŸ§¹ Ruff issues | **{{ summary.ruff_issues }}** |
| ğŸ§  Pyright errors | **{{ summary.pyright_errors }}** |
| ğŸ§  Pyright warnings | **{{ summary.pyright_warnings }}** |
| ğŸ”’ Bandit issues | **{{ summary.bandit_issues }}** |

## Gates

- Quality gate: {{ "âŒ fail" if quality_blocking else "âœ… pass" }}
- Security gate: {{ "âŒ fail" if security_blocking else "âœ… pass" }}

---

<h3>
  <img src="https://raw.githubusercontent.com/pytest-dev/pytest/main/doc/en/img/pytest_logo_curves.svg" alt="pytest" height="26"/>
  Tests & Coverage
</h3>

{% if failed_tests|length == 0 %}
âœ… No failed tests.
{% else %}
<details>
<summary>âŒ Failed tests ({{ failed_tests|length }})</summary>

| Test | Message |
|---|---|
{% for f in failed_tests -%}
| `{{ f.nodeid }}` | {{ f.message }} |
{% endfor %}
</details>
{% endif %}

{% if below_threshold|length == 0 %}
âœ… All files meet coverage threshold ({{ coverage_threshold }}%).
{% else %}
<details>
<summary>âš ï¸ Files below coverage threshold ({{ coverage_threshold }}%)</summary>

| File | Coverage | Missing lines |
|---|---:|---|
{% for f in below_threshold -%}
| `{{ f.path }}` | {{ f.percent }}% | {{ f.missing_lines|join(', ') }} |
{% endfor %}
</details>
{% endif %}

<h3>
  <img src="https://github.com/astral-sh/ruff/blob/main/docs/assets/ruff-favicon.png?raw=true" alt="ruff" height="24"/>
  Ruff
</h3>

{% if ruff_findings|length == 0 %}
âœ… No Ruff issues found.
{% else %}
<details>
<summary>ğŸ” Ruff findings ({{ ruff_findings|length }})</summary>

| File | Line | Rule | Message |
|---|---:|---|---|
{% for i in ruff_findings -%}
| `{{ i.filename }}` | {{ i.location.row }} | {{ i.code }} | {{ i.message }} |
{% endfor %}
</details>
{% endif %}

<h3>
  <img src="https://raw.githubusercontent.com/microsoft/pyright/main/docs/img/pyright-logo-color.png" alt="pyright" height="24"/>
  Pyright
</h3>

{% if pyright_findings|length == 0 %}
âœ… No Pyright diagnostics.
{% else %}
<details>
<summary>ğŸ” Pyright diagnostics ({{ pyright_findings|length }})</summary>

| File | Line | Severity | Rule | Message |
|---|---:|---|---|---|
{% for d in pyright_findings -%}
| `{{ d.file }}` | {{ d.line }} | {{ d.severity }} | {{ d.rule }} | {{ d.message }} |
{% endfor %}
</details>
{% endif %}

<h3>
  <img src="https://raw.githubusercontent.com/PyCQA/bandit/main/logo/logomark.png" alt="bandit" height="22"/>
  Security (Bandit)
</h3>

{% if bandit_issues|length == 0 %}
âœ… No Bandit issues found.
{% else %}
<details>
<summary>ğŸ›¡ï¸ Bandit findings ({{ bandit_issues|length }})</summary>

| File | Line | Severity | Confidence | Test | Message |
|---|---:|---|---|---|---|
{% for i in bandit_issues -%}
| `{{ i.filename }}` | {{ i.line_number }} | {{ i.severity }} | {{ i.confidence }} | {{ i.test_id }} | {{ i.issue_text }} |
{% endfor %}
</details>
{% endif %}
